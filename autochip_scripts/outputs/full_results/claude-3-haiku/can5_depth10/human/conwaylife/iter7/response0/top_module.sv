module top_module(
    input clk,
    input load,
    input [255:0] data,
    output reg [255:0] q
);

reg [255:0] next_q;

always @(posedge clk) begin
    if (load) begin
        q <= data;
    end
    else begin
        q <= next_q;
    end
end

always @(*) begin
    // Compute the next state of the game
    next_q[255:240] = ((q[254:240] & {q[253:239], q[15]}) | (q[255:240] & ~({q[254:240], q[15]} | {q[0], q[255:241]}))) & 16'hFFFF;
    next_q[239:224] = ((q[238:224] & {q[237:223], q[31]}) | (q[239:224] & ~({q[238:224], q[31]} | {q[16], q[239:225]}))) & 16'hFFFF;
    next_q[223:208] = ((q[222:208] & {q[221:207], q[47]}) | (q[223:208] & ~({q[222:208], q[47]} | {q[32], q[223:209]}))) & 16'hFFFF;
    next_q[207:192] = ((q[206:192] & {q[205:191], q[63]}) | (q[207:192] & ~({q[206:192], q[63]} | {q[48], q[207:193]}))) & 16'hFFFF;
    next_q[191:176] = ((q[190:176] & {q[189:175], q[79]}) | (q[191:176] & ~({q[190:176], q[79]} | {q[64], q[191:177]}))) & 16'hFFFF;
    next_q[175:160] = ((q[174:160] & {q[173:159], q[95]}) | (q[175:160] & ~({q[174:160], q[95]} | {q[80], q[175:161]}))) & 16'hFFFF;
    next_q[159:144] = ((q[158:144] & {q[157:143], q[111]}) | (q[159:144] & ~({q[158:144], q[111]} | {q[96], q[159:145]}))) & 16'hFFFF;
    next_q[143:128] = ((q[142:128] & {q[141:127], q[127]}) | (q[143:128] & ~({q[142:128], q[127]} | {q[112], q[143:129]}))) & 16'hFFFF;
    next_q[127:112] = ((q[126:112] & {q[125:111], q[143]}) | (q[127:112] & ~({q[126:112], q[143]} | {q[128], q[127:113]}))) & 16'hFFFF;
    next_q[111:96] = ((q[110:96] & {q[109:95], q[159]}) | (q[111:96] & ~({q[110:96], q[159]} | {q[144], q[111:97]}))) & 16'hFFFF;
    next_q[95:80] = ((q[94:80] & {q[93:79], q[175]}) | (q[95:80] & ~({q[94:80], q[175]} | {q[160], q[95:81]}))) & 16'hFFFF;
    next_q[79:64] = ((q[78:64] & {q[77:63], q[191]}) | (q[79:64] & ~({q[78:64], q[191]} | {q[176], q[79:65]}))) & 16'hFFFF;
    next_q[63:48] = ((q[62:48] & {q[61:47], q[207]}) | (q[63:48] & ~({q[62:48], q[207]} | {q[192], q[63:49]}))) & 16'hFFFF;
    next_q[47:32] = ((q[46:32] & {q[45:31], q[223]}) | (q[47:32] & ~({q[46:32], q[223]} | {q[208], q[47:33]}))) & 16'hFFFF;
    next_q[31:16] = ((q[30:16] & {q[29:15], q[239]}) | (q[31:16] & ~({q[30:16], q[239]} | {q[224], q[31:17]}))) & 16'hFFFF;
    next_q[15:0] = ((q[14:0] & {q[13:0], q[255]}) | (q[15:0] & ~({q[14:0], q[255]} | {q[240], q[15:1]}))) & 16'hFFFF;
end

endmodule
